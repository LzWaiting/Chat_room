'''聊天室服务端

功能:类似qq群聊
1. 进入聊天室需要输入姓名,姓名不能重复
2. 有人进入聊天室会向其他人发送通知
	*** 进入了聊天室
3. 一个人发消息,其他人会收到消息
	*** 说:xxxxxxxxx
4. 某人退出聊天室,其他人也会收到通知
	*** 退出了聊天室
5. 管理员喊话,服务端发送消息所有客户端都可以收到
	管理员说:xxxxxxx
'''


'''框架分析:
# 分析:
# 功能模块:转发消息
# 需要的技术:套接字通信 udp套接字
# 用户存储:字典或列表{姓名为键,地址为值,...}/[(姓名,地址),...]
# 消息收发的随意性:多进程

# 代码设计
# 1. 封装,将每个功能封装为函数
# 2. 接口测试(每实现一步就测试一步)

# 代码编写流程
# 搭建网络连接 --> 创建多进程 --> 每个进程功能编写 --> 项目功能模块实现
'''


'''功能实现分析:
1. 进入聊天室
2. 客户端:输入姓名,将信息发给服务端
         请求类型(L name)(C 聊天信息)
         等待服务端回复,根据回复判断是否登录成功
   服务端:接收请求信息,判断请求类型,
         判断用户名是否存在,
         如果存在回复不能登录,
         如果不存在回复可以登录并插入到数据结构
         发送通知给其他用户
3. 聊天
	客户端:创建父子进程,实现收发互不干扰
		  发送聊天请求/接收聊天信息
	服务端:接收请求信息,将消息转发给其他客户端
4. 退出
5. 管理员消息
'''